var Template=function(A){this.parse(A);};Template.tagDefinitions={"var":{search:/^(.*)$/,replace:"var $1;"},"if":{search:/^\((.*)\)$/,replace:"if ($1) {"},elseif:{search:/^\((.*)\)$/,replace:"} else if ($1) {"},"else":{search:"",replace:"} else {"},"/if":{search:"",replace:"}"},"for":{search:/^\((.*)\)$/,replace:"for ($1) {"},"/for":{search:"",replace:"}"},sub:{search:/^([a-zA-Z_$][a-zA-Z0-9_$]*)\s*\((.*)\)$/,replace:'var $1 = function ($2) {\nvar html = "";'},"/sub":{search:"",replace:"return html;\n};"},script:{search:"",replace:""},"/script":{search:"",replace:""}};Template.prototype={tagRegExp:(function(){var B=[],C=Template.tagDefinitions,A;for(A in C){B.push(A.replace("/","\\/"));}return new RegExp("(?:\\$\\{(.*?)\\})|(?:\\{("+B.join("|")+")(?:\\s+(.*?))?\\})","g");}()),replace:function(I,F,J,E,G){var B,C,H=Template.tagDefinitions,D='";\n',A='\nhtml += "';if(F){B="html += "+F+";";}else{if(J in H){C=H[J];B=(E||"").replace(/\\"/g,'"').replace(C.search,C.replace);if(J==="script"){A="";}else{if(J==="/script"){D="";}}}}return D+B+A;},parse:function(A){var B='var html = "";\nhtml += "'+A.replace(/\s*[\n\r]+\s*/g," ").replace(/"/g,'\\"').replace(this.tagRegExp,this.replace).replace('html += "";\n',"")+'";\nreturn html;';this._render=new Function(B);},render:function(A){return this._render.call(A);}};